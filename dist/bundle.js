(()=>{"use strict";const e={apiKey:"AIzaSyAsMCiUcLm97v6yrth166NxJi2PvBsDhUU",authDomain:"plv-projekt.firebaseapp.com",databaseURL:"https://plv-projekt-default-rtdb.europe-west1.firebasedatabase.app",projectId:"plv-projekt",storageBucket:"plv-projekt.appspot.com",messagingSenderId:"754434030320",appId:"1:754434030320:web:119fffabf4f782d030a035"};firebase.initializeApp(e);const t=firebase.database(),n=document.getElementById("todoForm"),s=document.getElementById("titleInput"),a=document.getElementById("descriptionInput"),o=document.getElementById("dateInput"),d=document.getElementById("todoList");n.addEventListener("submit",(e=>{e.preventDefault();const d=s.value,l=a.value,c=o.value;t.ref("tasks").push().set({title:d,description:l,date:c,completed:!1}),n.reset()})),t.ref("tasks").on("value",(e=>{d.innerHTML="",e.forEach((e=>{!function(e,n){const s=document.createElement("li");s.id=n,s.className="task-item",e.completed&&s.classList.add("completed"),s.innerHTML=`\n    <h3>${e.title}</h3>\n    <p>${e.description}</p>\n    <p>Due Date: ${e.date}</p>\n    <button class="complete-button">Complete</button>\n    <button class="delete-button">Delete</button>`;const a=new Date;new Date(e.date)<=a&&(s.classList.add("expired"),s.innerHTML+='<span class="icon"></span>'),d.appendChild(s),s.querySelector(".complete-button").addEventListener("click",(()=>{!function(e){t.ref(`tasks/${e}`).update({completed:!0},(t=>{if(t)console.log("Error completing task:",t);else{const t=document.getElementById(e);t.classList.remove("expired"),t.classList.add("completed")}}))}(n)})),s.querySelector(".delete-button").addEventListener("click",(()=>{!function(e){t.ref(`tasks/${e}`).remove((e=>{e&&console.log("Error deleting task:",e)}))}(n)}))}(e.val(),e.key)}))}))})();